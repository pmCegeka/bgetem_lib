<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BGETEM Component Library</title>
    <link rel="stylesheet" href="./components/CardGrid/CardGrid.css" />
    <link rel="stylesheet" href="./components/Button/Button.css" />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
  <header class="header">
      <div id="header-image-title">
          <img src="assets/bg-etem.svg" alt="BG ETEM Logo" class="logo" />
          <h1 class="title">BGETEM Component Library</h1>
      </div>
      <nav class="menu">
          <ul>
              <li><a href="https://www.figma.com/design/40yF3KZomBSSYzgYEkCdS0/bgETEM_draft?node-id=10764-9501&p=f&t=DlS2orl0z0rm5K31-0" target="_blank">Figma</a></li>
              <li><a href="./components/A11y/Barrierefrei.html">A11y</a></li>
          </ul>
      </nav>
  </header>

  <main class="main">

      <h3 class="toggle-header">
          Cards <span class="chevron">▼</span>
      </h3>
      <section id="app-card" class="content-area"></section>

      <h3 class="toggle-header">
          Button <span class="chevron">▼</span>
      </h3>
      <section id="app-button" class="content-area"></section>


  </main>


  <footer class="footer">
      <p>© 2025 BG ETEM – Alle Rechte vorbehalten</p>
  </footer>

  <script type="module">
      import { CardGrid } from './components/CardGrid/CardGrid.js';
      import { Button } from './components/Button/Button.js';

      const cardsData = [
          {
              title: 'Bitte vergeben Sie ein neues Passwort',
              text: `Wichtiger Hinweis für Nutzerinnen und Nutzer von "Meine BG ETEM":
          Die Passwortrichtlinie hat sich geändert. Aus Sicherheitsgründen ist
          eine einmalige Passwortänderung erforderlich.`,
              img: 'https://via.placeholder.com/300x140',
          },
          {
              title: 'Warnung vor Betrugsversuch',
              text: `E-Mails zu angeblichem digitalen Präventionsmodul stammen nicht
          von der DGUV oder der BG ETEM.`,
              img: 'https://via.placeholder.com/300x140',
          },
          {
              title: 'Hohes Anfrageaufkommen',
              text: `Derzeit kommt es aufgrund hoher Anfragen zu Verzögerungen bei der
          Bearbeitung. Wir bitten um Verständnis.`,
              img: 'https://via.placeholder.com/300x140',
          },
          {
              title: 'Über uns',
              text: `Die BG ETEM versendet aktuell Beitragsbescheide für das Jahr 2024.
          Leider kommt es aufgrund eines hohen Anfrageaufkommens zu Verzögerungen.`,
              img: 'https://via.placeholder.com/300x140',
          },
      ];

      const cardGrid = new CardGrid({
          title: 'Aktuelle Meldungen',
          cards: cardsData,
          containerSelector: '#app-card',
      });

      cardGrid.render();

      const button = new Button({ containerSelector: '#app-button', text: 'zurück' });
      button.render();




      document.querySelectorAll('.toggle-header').forEach(header => {
          header.addEventListener('click', () => {
              const section = header.nextElementSibling;
              const isHidden = section.style.display === 'none';

              section.style.display = isHidden ? 'block' : 'none';
              header.classList.toggle('collapsed', !isHidden);
          });
      });

      // Optional: start collapsed
      document.querySelectorAll('.content-area').forEach(section => {
          section.style.display = 'none';
      });
      document.querySelectorAll('.toggle-header').forEach(header => {
          header.classList.add('collapsed');
      });


  </script>
  </body>

</html>
